---
title: "Instala√ß√£o e Hospedagem"
icon: "rocket"
description: "Coloque sua API profissional de WhatsApp no ar em menos de 5 minutos com a **ZapUnlocked-API**."
---

import { ApiKeyGenerator } from '/snippets/ApiKeyGenerator.mdx';
import { InternalSecretGenerator } from '/snippets/InternalSecretGenerator.mdx';
import { UrlInput } from '/snippets/UrlInput.mdx';
import { ApiKeySync } from '/snippets/ApiKeySync.mdx';

<ApiKeySync />

Siga este guia para hospedar a **ZapUnlocked-API** na Railway. Este processo garante que sua API fique online 24/7.

## <Icon icon="rocket" iconType="sharp-regular" color="#9d4fe6" size={22} /> Deploy na Railway

A **Railway** √© a plataforma recomendada por oferecer uma infraestrutura robusta, deploy autom√°tico via GitHub e um plano gratuito generoso.

<Steps>
  <Step title="Fork do Reposit√≥rio" icon="code-fork">
    Comece fazendo um fork do [reposit√≥rio oficial](https://github.com/zKauaFerreira/ZapUnlocked-API) para a sua conta do GitHub.
  </Step>
  <Step title="Criar Projeto na Railway" icon="plus">
    1. Fa√ßa login no seu [painel da Railway](https://railway.app/).
    2. Clique em **New Project** e selecione **Deploy from GitHub repo**.
    3. Escolha o seu reposit√≥rio forkado `ZapUnlocked-API`.
  </Step>
  <Step title="Configurar Vari√°veis de Ambiente" icon="list-check">
    Nas configura√ß√µes do projeto na Railway (aba **Variables**), adicione estas chaves clicando em **New Variable**:

    <table>
    <thead>
    <tr>
    <th width="30%">
    Vari√°vel

    </th>

    <th>
    Valor / Descri√ß√£o

    </th>

    </tr>

    </thead>

    <tbody>
    <tr>
    <td>
    <code>
    API_KEY

    </code>

    </td>

    <td>
    <ApiKeyGenerator />

    </td>

    </tr>

    <tr>
    <td>
    <code>
    INTERNAL_SECRET

    </code>

    </td>

    <td>
    <InternalSecretGenerator />

    </td>

    </tr>

    <tr>
    <td>
    <code>
    PORT

    </code>

    </td>

    <td>
    <code>
    3000

    </code>

    </td>

    </tr>

    <tr>
    <td>
    <code>
    AUTH_DIR

    </code>

    </td>

    <td>
    <code>
    /data/auth_info

    </code>

    </td>

    </tr>

    </tbody>

    </table>

    <Note>
      A chave acima √© gerada automaticamente pelo seu navegador para facilitar seus testes. Voc√™ pode escolher sua pr√≥pria chave se preferir.

      **Importante:** Guarde sua chave com seguran√ßa. Caso voc√™ a esque√ßa, poder√° consult√°-la a qualquer momento na aba **Variables** do seu projeto na Railway.
    </Note>
  </Step>
  <Step title="Configurar Persist√™ncia de Sess√£o" icon="database">
    Para n√£o precisar escanear o QR Code toda vez que o servidor reiniciar:

    1. V√° na aba **Volumes** na Railway.
    2. Clique em **\+ New Volume**.
    3. Defina o **Mount Path** como `/data/auth_info`.
    4. Defina o **Name** como `whatsapp-auth`.
  </Step>
  <Step title="Gerar Dom√≠nio P√∫blico" icon="globe">
    Para que sua API seja acess√≠vel pela internet:

    1. V√° na aba **Settings** do seu servi√ßo na Railway.
    2. Procure a se√ß√£o **Networking**.
    3. Clique no bot√£o **Generate Domain**.

    <Note>
      Isso criar√° uma URL terminada em `.up.railway.app` que voc√™ usar√° para acessar sua API. PD: Para facilitar seu teste, coloque sua URL no campo abaixo:
    </Note>
    <UrlInput />
  </Step>
</Steps>

## <Icon icon="qrcode" iconType="sharp-regular" color="#9d4fe6" size={22} /> Autentica√ß√£o (Login)

Ap√≥s o deploy terminar com sucesso, voc√™ precisa conectar sua conta do WhatsApp.

1. Acesse no seu navegador a URL de login:

```
https://seu-projeto.up.railway.app/qr?API_KEY=SUA_SENHA_SECRETA
```

2. Escaneie o QR Code com seu celular.

<Check>
  Uma vez conectado, a p√°gina atualizar√° sozinha para mostrar o status "Conectado".
</Check>

## <Icon icon="face-thinking" iconType="sharp-regular" color="#9d4fe6" size={22} /> Solu√ß√£o de Problemas

<Accordion title="Erro: No response received / Network Error">
  Se voc√™ encontrar o erro **"no response received"** ao testar a API atrav√©s desta documenta√ß√£o ("Try it"), isso geralmente ocorre devido a bloqueios **CORS** (Cross-Origin Resource Sharing).

  Como estamos usando sua URL personalizada, o navegador faz a requisi√ß√£o diretamente para o seu servidor. Para que isso funcione, seu servidor na Railway precisa permitir requisi√ß√µes vindas deste site de documenta√ß√£o.

  **Como resolver:** Certifique-se de que sua API retorna os seguintes headers em todas as respostas (incluindo erros e preflight `OPTIONS`):

  ```http
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, OPTIONS
  Access-Control-Allow-Headers: Content-Type, x-api-key
  ```

  _`Se estiver usando Node.js/Express, use o pacote cors para habilitar isso globalmente.`_
</Accordion>

## <Icon icon="vial" iconType="sharp-regular" color="#9d4fe6" size={22} /> Testando sua API

Tente enviar uma mensagem simples usando cURL:

<CodeGroup>

```bash cURL
curl -X POST 'https://seu-projeto.up.railway.app/send' \
  -H 'x-api-key: SUA_SENHA_SECRETA' \
  -H 'Content-Type: application/json' \
  -d '{
    "phone": "5511999999999",
    "message": "Ol√° da ZapUnlocked-API! üöÄ"
  }'
```


```javascript Node.js
const axios = require('axios');

axios.post('https://seu-projeto.up.railway.app/send', {
  phone: '5511999999999',
  message: 'Certifique-se de usar o c√≥digo do pa√≠s!'
}, {
  headers: { 'x-api-key': 'SUA_SENHA_SECRETA' }
})
.then(res => console.log(res.data));
```

</CodeGroup>